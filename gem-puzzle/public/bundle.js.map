{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/blocks/addition.js","webpack:///./src/blocks/capitulate.js","webpack:///./src/blocks/cell.js","webpack:///./src/blocks/field.js","webpack:///./src/blocks/level.js","webpack:///./src/blocks/load.js","webpack:///./src/blocks/newgame.js","webpack:///./src/blocks/restart.js","webpack:///./src/blocks/save.js","webpack:///./src/blocks/sound.js","webpack:///./src/main.js","webpack:///./src/utils/create.js"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACwC;AACR;AACA;AACE;AACW;;;AAG9B;AACf;AACA,cAAc,gEAAM;AACpB;;AAEA;;AAEA;AACA,MAAM,wDAAO;AACb,MAAM,wDAAO;AACb,MAAM,yDAAQ;AACd,MAAM,0DAAQ;AACd;AACA,KAAK;AACL;AACA,qBAAqB,OAAO;AAC5B;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AACwC;AACT;AACA;;;AAGhB;AACf;AACA,cAAc,gEAAM;;AAEpB;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AACwC;;AAEzB;AACf;AACA;AACA;AACA;AACA,gBAAgB,gEAAM,mBAAmB,MAAM;AAC/C,yCAAyC,UAAU;AACnD,sCAAsC,SAAS;AAC/C;AACA;;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;AAEwC;AACX;AACgB;;;AAG9B;AACf;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,gEAAM;AACvB,qDAAqD,UAAU;AAC/D,kDAAkD,UAAU;AAC5D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,UAAU;AAC/D,kDAAkD,SAAS;AAC3D;;AAEA,qBAAqB,mBAAmB;AACxC;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,mBAAmB,mBAAmB;AACtC;AACA;AACA;AACA,uBAAuB,gDAAI;AAC3B;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA,sBAAsB,yDAAO;AAC7B;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;AChHA;AAAA;AAAA;AAAA;AACwC;;AAEzB;AACf;AACA,cAAc,gEAAM;AACpB;;AAEA;;AAEA;;AAEA,GAAG;AACH;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AACwC;;;;AAIzB;AACf;AACA,cAAc,gEAAM;;AAEpB;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAA;AAAA;AACwC;AACT;AACA;;AAEhB;AACf;AACA,cAAc,gEAAM;;AAEpB;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AAAA;AACwC;AACT;AACA;;;AAGhB;AACf;AACA,cAAc,gEAAM;;AAEpB;AACA;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AACwC;;;;AAIzB;AACf;AACA,cAAc,gEAAM;;AAEpB;AACA;AACA,GAAG;AACH;;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAA;AACwC;;AAExC;;AAEA;AACA;AACA,cAAc,gEAAM;;AAEpB;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAKE;;;;;;;;;;;;;AC3BF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACsC;AACC;AACM;AACA;AACM;AACJ;;AAE/C;AACA;AACA,gBAAgB,wDAAK;AACrB,aAAa,gEAAM,aAAa,gEAAM;AACtC;;AAEA,gBAAgB,gEAAM;;AAEtB,kEAAU;AACV,kEAAU;AACV,qEAAa;AACb,mEAAW;AACX;AACA;;;;;;;;;;;;;ACrBA;AAAA;AAAA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,YAAY;AACvB,WAAW,YAAY;AACvB,YAAY,SAAS;AACrB;;AAEe;AACf;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA,kEAAkE;;AAElE;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/main.js\");\n","/* eslint-disable import/extensions */\nimport create from '../utils/create.js';\nimport btnSave from './save.js';\nimport btnLoad from './load.js';\nimport btnLevel from './level.js';\nimport {btnSound, isSound} from './sound.js';\n\n\nexport default function btnAddition() {\n  const buttons = document.querySelector('.buttons');\n  const btn = create('button', 'bntCapitulate btn', 'плюшки', buttons, ['type', 'button']);\n  let isOpenAdds = false\n\n  btn.addEventListener('click', () => {\n\n    if (!isOpenAdds) {\n      btnSave();\n      btnLoad();\n      btnLevel();\n      btnSound();\n      isOpenAdds = !isOpenAdds\n    } else {\n      isOpenAdds = !isOpenAdds\n      for (let i = 0; i < 4; i++) {\n        buttons.removeChild(buttons.lastChild)\n      }\n    }\n  });\n}\n","/* eslint-disable import/extensions */\nimport create from '../utils/create.js';\nimport Field from './field.js';\nimport field from '../main.js';\n\n\nexport default function capitulate(field) {\n  const buttons = document.querySelector('.buttons');\n  const btn = create('button', 'bntCapitulate btn', 'сдаюсь', buttons, ['type', 'button']);\n\n  btn.addEventListener('click', () => {\n    console.log('я еще не работаю, я маленькая')\n  })\n}\n","/* eslint-disable import/extensions */\nimport create from '../utils/create.js';\n\nexport default class Cell {\n  constructor(inner, parent, top, left) {\n    this.inner = inner;\n    this.top = top;\n    this.left = left;\n    this.cell = create('div', 'cell', `${inner}`, parent);\n    this.cell.style.gridColumnStart = `${this.left}`;\n    this.cell.style.gridRowStart = `${this.top}`;\n  }\n}\n","/* eslint-disable no-param-reassign */\n/* eslint-disable import/extensions */\n\nimport create from '../utils/create.js';\nimport Cell from './cell.js';\nimport {btnSound, isSound} from './sound.js';\n\n\nexport default class Field {\n  constructor(size = 4) {\n    this.size = size;\n  }\n\n  init() {\n    const main = document.querySelector('main');\n    this.field = create('div', 'field', null, main);\n    this.field.style.gridTemplateColumns = `repeat(${this.size}, 1fr)`;\n    this.field.style.gridTemplateRows = `repeat(${this.size}, 1fr)`;\n    document.body.append(main);\n    return this;\n  }\n\n  generate() {\n    let countCell = this.size * this.size;\n    const numbers = [...Array(countCell - 1).keys()]\n      .map(x => x + 1)\n      .sort(() => Math.random() - 0.5)\n    localStorage.setItem('currentGame', numbers);\n\n    return numbers\n  }\n\n  draw(isNew) {\n    let countCell = this.size * this.size;\n    let numbers\n    const empty = {\n      value: countCell - 1,\n      left: this.size,\n      top: this.size\n    }\n    this.cells = [];\n\n    if (isNew) {\n      numbers = this.generate();\n    } else {\n      numbers = localStorage.getItem('currentGame').split(',')\n    }\n    const move = (item) => {\n      const leftDiff = Math.abs(empty.left - item.left);\n      const topDiff = Math.abs(empty.top - item.top);\n      const cellMoved = item;\n      let countRight = 0\n\n      if (leftDiff + topDiff > 1) {\n        return;\n      } else {\n        const emptyLeft = empty.left;\n        const emptyTop = empty.top;\n        empty.left = cellMoved.left;\n        empty.top = cellMoved.top;\n        cellMoved.left = emptyLeft;\n        cellMoved.top = emptyTop;\n        cellMoved.element.style.gridColumnStart = `${emptyLeft}`;\n        cellMoved.element.style.gridRowStart = `${emptyTop}`;\n      }\n\n      for (let i = 0; i < countCell - 1; i++) {\n        let position = (this.cells[i].top - 1) * this.size + this.cells[i].left;\n\n        if (position == this.cells[i].value) {\n          countRight++;\n          this.cells[i].element.style.opacity = '0.8'\n        } else {\n          this.cells[i].element.style.opacity = '1'\n        }\n\n        if (countRight === countCell - 1) {\n          this.cells.forEach(el => el.element.style.opacity = '0.1')\n        }\n      }\n    }\n\n    for (let i = 0; i < countCell - 1; i++) {\n      const left = i % this.size + 1;\n      const top = Math.ceil((i + 1) / this.size);\n      const value = numbers[i];\n      const cell = new Cell(value, this.field, top, left);\n      this.cells.push({\n        value: value,\n        left: left,\n        top: top,\n        element: this.field.lastChild\n      });\n    }\n\n    this.cells.forEach(item => item.element.addEventListener('click', () => {\n      move(item);\n      let isSoundOn = isSound();\n      if (isSoundOn) {\n        const audio = document.querySelector('.audio');\n        audio.currentTime = 0;\n        audio.play();\n      }\n    }));\n  }\n\n  delete() {\n    while (this.field.firstChild) {\n      this.field.removeChild(this.field.firstChild)\n    }\n  }\n\n}\n","/* eslint-disable import/extensions */\nimport create from '../utils/create.js';\n\nexport default function btnlevel() {\n  const buttons = document.querySelector('.buttons');\n  const btn = create('button', 'bntCapitulate btn', 'уровень', buttons, ['type', 'button']);\n  const main = document.querySelector('main')\n\n  btn.addEventListener('click', () => {\n\n    // const popup = create('div', 'popup', 'уровень', main);\n\n  })\n}\n","/* eslint-disable import/extensions */\nimport create from '../utils/create.js';\n\n\n\nexport default function btnLoad() {\n  const buttons = document.querySelector('.buttons');\n  const btn = create('button', 'bntCapitulate btn', 'загрузить', buttons, ['type', 'button']);\n\n  btn.addEventListener('click', () => {\n    console.log('я еще не работаю, я маленькая')\n  })\n}\n","/* eslint-disable import/extensions */\nimport create from '../utils/create.js';\nimport Field from './field.js';\nimport field from '../main.js';\n\nexport default function btnNewGame(field) {\n  const buttons = document.querySelector('.buttons');\n  const btn = create('button', 'bntNewGame btn', 'новая', buttons, ['type', 'button']);\n\n  btn.addEventListener('click', () => {\n    field.delete()\n    field.draw(true);\n  })\n}\n","/* eslint-disable import/extensions */\nimport create from '../utils/create.js';\nimport Field from './field.js';\nimport field from '../main.js';\n\n\nexport default function restart(field) {\n  const buttons = document.querySelector('.buttons');\n  const btn = create('button', 'bntRestart btn', 'повторить', buttons, ['type', 'button']);\n\n  btn.addEventListener('click', () => {\n    field.delete()\n    field.draw(false);\n  })\n}\n","/* eslint-disable import/extensions */\nimport create from '../utils/create.js';\n\n\n\nexport default function btnSave() {\n  const buttons = document.querySelector('.buttons');\n  const btn = create('button', 'bntCapitulate btn', 'сохранить', buttons, ['type', 'button']);\n\n  btn.addEventListener('click', () => {\n    console.log('я еще не работаю, я маленькая')\n  })\n}\n","/* eslint-disable import/extensions */\nimport create from '../utils/create.js';\n\nlet sound = true;\n\nfunction btnSound() {\n  const buttons = document.querySelector('.buttons');\n  const btn = create('button', 'bntSound btn', 'звук выкл', buttons, ['type', 'button']);\n\n  btn.addEventListener('click', () => {\n    if (sound) {\n      sound = !sound;\n      btn.textContent = 'звук вкл'\n    } else {\n      sound = !sound;\n      btn.textContent = 'звук выкл'\n    }\n  })\n}\n\nfunction isSound() {\n  return sound;\n}\n\nexport {\n  btnSound,\n  isSound\n};\n","/* eslint-disable import/extensions */\nimport Field from './blocks/field.js';\nimport create from './utils/create.js';\nimport btnNewGame from './blocks/newgame.js';\nimport btnRestart from './blocks/restart.js';\nimport btnCapitulate from './blocks/capitulate.js';\nimport btnAddition from './blocks/addition.js';\n\nconst START_SIZE = 4;\nconst isNew = true\nlet field = new Field(START_SIZE);\nconst main = create('main', '', create('h1', 'title', 'Gem Puzzle'));\ndocument.body.prepend(main);\n\nconst buttons = create('div', 'buttons', null, main);\n\nbtnNewGame(field);\nbtnRestart(field);\nbtnCapitulate(field)\nbtnAddition()\nfield.init();\nfield.draw(isNew);\n","/**\n * @param {String} el\n * @param {String} classNames\n * @param {HTMLElement} child\n * @param {HTMLElement} parent\n * @param  {...array} dataAttr\n */\n\nexport default function create(el, classNames, child, parent, ...dataAttr) {\n  let element = null;\n  try {\n    element = document.createElement(el);\n  } catch (error) {\n    throw new Error('Unable to create HTMLElement! Give a proper tag name');\n  }\n\n  if (classNames) element.classList.add(...classNames.split(' ')); // \"class1 class2 class3\"\n\n  if (child && Array.isArray(child)) {\n    child.forEach((childElement) => childElement && element.appendChild(childElement));\n  } else if (child && typeof child === 'object') {\n    element.appendChild(child);\n  } else if (child && typeof child === 'string') {\n    element.innerHTML = child;\n  }\n\n  if (parent) {\n    parent.appendChild(element);\n  }\n\n  if (dataAttr.length) {\n    dataAttr.forEach(([attrName, attrValue]) => {\n      if (attrValue === '') {\n        element.setAttribute(attrName, '');\n      }\n      if (attrName.match(/value|id|placeholder|cols|rows|autocorrect|spellcheck/)) {\n        element.setAttribute(attrName, attrValue);\n      } else {\n        element.dataset[attrName] = attrValue;\n      }\n    });\n  }\n  return element;\n}\n"],"sourceRoot":""}